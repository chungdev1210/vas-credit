<div class="card">
    <div class="flex justify-between mb-6">
        <div class="font-bold text-2xl">Summary report</div>
    </div>
    <div class="mb-3">
        <div class="flex justify-end gap-3">
            <p-datepicker [(ngModel)]="fromDate" [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay"
                placeholder="From date" />
            <p-datepicker [(ngModel)]="toDate" [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay"
                placeholder="To date" />
            <p-button severity="secondary" icon="pi pi-search" (onClick)="reportDaily()" />
            <p-button severity="secondary" icon="pi pi-download" (onClick)="exportReportDaily()" />
        </div>
    </div>
    <p-table #dt1 [value]="dailys" dataKey="id" [rows]="10" [rowsPerPageOptions]="[10, 25, 50]" [loading]="loading"
        [rowHover]="true" [showGridlines]="true" [paginator]="true" responsiveLayout="scroll"
        currentPageReportTemplate="Tổng cộng: {totalRecords}" [showCurrentPageReport]="true">
        <ng-template #header>
            <tr>
                <th>Date</th>
                <th>Registrations Today</th>
                <th>Cancellations Today</th>
                <th>Refund Amount</th>
                <th>Loan Amount</th>
                <th>Revenue (10% of Refund Amount)</th>
                <th>Total Registered Users</th>
                <th>Invites Today</th>
            </tr>
        </ng-template>
        <ng-template #body let-item>
            <tr>
                <td>{{ parseDotNetDate(item.date) | date: 'MM/dd/yyyy' }}</td>
                <td>{{ item.registeredToday | number }}</td>
                <td>{{ item.cancelledToday | number }}</td>
                <td>{{ item.paybackAmount | number }}</td>
                <td>{{ item.loanAmount | number }}</td>
                <td>{{ item.revenue | number }}</td>
                <td>{{ item.totalRegisteredUsers | number }}</td>
                <td>
                    {{ item.invitedToday | number }}
                </td>
            </tr>
        </ng-template>
        <ng-template #emptymessage>
            <tr>
                <td colspan="9" style="text-align: center; padding: 32px 0;">No data available.</td>
            </tr>
        </ng-template>
        <ng-template #loadingbody>
            <tr>
                <td colspan="9" style="text-align: center; padding: 32px 0;">Please wait...</td>
            </tr>
        </ng-template>
    </p-table>
</div>
<p-toast />